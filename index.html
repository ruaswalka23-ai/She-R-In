<script>
    (function(){
      const TR = {
        ar: {
          nav_policy:'سياستنا', nav_services:'خدماتنا', nav_platforms:'المنصّات', nav_contact:'اتصل بنا',
          hero_tag:'ابحث، قارن، اختر.. بكل سهولة', hero_title:'هي بوابة دخولك إلى السوق الصينية', hero_desc:'نقدّم خدمات شحن شاملة: البحث عن المنتجات، المقارنة بين المورّدين، الإشراف على الشراء، التخليص الجمركي، والشحن إلى أي مكان في العالم—بحلول مخصّصة تناسب مشروعك.',
          cta_book:'احجز الآن', cta_services:'تعرّف على الخدمات',
          about_title:'سياستنا', about_text:'نلتزم بالأمان والشفافية: سند قبض للدفعة الأولى وإثبات شراء، مع إمكانيّة تتبّع طلبك في أي وقت. عادةً يصل الطلب خلال <strong>45–60 يومًا</strong> من تاريخ إغلاق الحاوية.',
          services_title:'خدماتنا',
          shipping_header: 'كل ما يهمك عن الشحن معنا',
          shipping_list: '<li>نقوم بالشحن من **أي مكان في الصين** إلى الأردن.</li><li>نقوم باستلام الشحنات من المورّدين في الصين، ودمجها مع بعضها في حاويات شحن.</li><li>سواء كان لديك شحنة صغيرة أو كبيرة، نقوم بتجهيزها للشحن البحري أو الجوي.</li><li>نحن نتكفل بجميع إجراءات التخليص الجمركي في الأردن، ونقوم بتسليم الشحنة في عنوانك.</li><li>نضمن التوصيل إلى **جميع المحافظات** في الأردن.</li>',
          experts_header: 'خبراء اختيار المنتج',
          experts_list: '<li>من خبرتنا الواسعة، نساعدك في **اختيار أفضل المنتجات** من بين مئات الموردين.</li><li>نضمن لك تحقيق الجودة المطلوبة لمنتجك، ونتأكد من أن السعر يناسب ميزانيتك.</li><li>فريقنا يقوم بالبحث والتفاوض مع الموردين نيابة عنك.</li>',
          safety_header: 'الأمان والشفافية',
          safety_list: '<li>يتم تسليمك **سند قبض** رسمي بقيمة الدفعة الأولى التي قمت بدفعها.</li><li>نقدم لك **إثباتات شراء** كاملة لضمان الشفافية التامة.</li><li>يمكنك **تتبع طلبك** في أي وقت من خلال فريقنا المختص.</li>',
          local_platforms_title: 'استيرادك من المنصّات الصينية المحلية',
          platforms_title:'المنصّات التي نغطيها', guides_title:'كل ما تود معرفته عن علي بابا وعلي اكسبريس',
          contact_title:'اتصل بنا', kpi_title:'أرقام سريعة',
          eta_label:'موعد أقرب حاوية',
          contact_addr:'العنوان: AVT, Rae\'d Khalaf Complex, Sweifieh – Amman',
          contact_hours:'ساعات العمل: الأحد–الخميس 09:00–21:00 • الجمعة–السبت: مغلق',
          form_send:'إرسال', form_whatsapp:'مراسلة عبر واتساب',
          ph_name:'الاسم', ph_whatsapp:'رقم واتساب', ph_msg:'محتوى الطلب',
          form_alert:'راسلنا عبر واتساب أو البريد ✉️',
          calculator_title: 'حاسبة السعر',
          calc_price_label: 'سعر المنتج بالدولار ($):', calc_price_placeholder: 'أدخل السعر بالدولار',
          calc_internal_fee_label: 'رسوم النقل الداخلي ($):', calc_internal_fee_placeholder: 'أدخل رسوم النقل',
          calc_size_label: 'حجم المنتج (بالمتر المكعب):', calc_size_placeholder: 'أدخل الحجم بالمتر المكعب',
          calc_button: 'احسب السعر',
          calc_result_prefix: '💰 السعر النهائي: ', calc_result_suffix: ' دينار أردني'
        },
        en: {
          nav_policy:'Policy', nav_services:'Services', nav_platforms:'Platforms', nav_contact:'Contact',
          hero_tag:'Search. Compare. Choose—easily.', hero_title:'Your gateway to the Chinese market', hero_desc:'We provide end-to-end shipping: sourcing, supplier comparison, purchase supervision, customs clearance, and worldwide delivery—tailored to your business.',
          cta_book:'Book Now', cta_services:'Explore Services',
          about_title:'Our Policy', about_text:'We commit to safety and transparency: official receipt for the deposit and proof of purchase, plus full order tracking. Typical arrival: 45–60 days from container closing.',
          services_title:'Our Services',
          shipping_header: 'All You Need to Know About Shipping with Us',
          shipping_list: '<li>We ship from **anywhere in China** to Jordan.</li><li>We receive shipments from suppliers in China and consolidate them into shipping containers.</li><li>Whether you have a small or large shipment, we prepare it for sea or air freight.</li><li>We handle all customs clearance procedures in Jordan and deliver the shipment to your address.</li><li>We guarantee delivery to **all governorates** in Jordan.</li>',
          experts_header: 'Product Selection Experts',
          experts_list: '<li>With our extensive experience, we help you **choose the best products** from hundreds of suppliers.</li><li>We ensure your product meets the required quality and that the price fits your budget.</li><li>Our team researches and negotiates with suppliers on your behalf.</li>',
          safety_header: 'Safety and Transparency',
          safety_list: '<li>You will receive an official **payment receipt** for the deposit you\'ve made.</li><li>We provide complete **proof of purchase** to ensure full transparency.</li><li>You can **track your order** at any time through our dedicated team.</li>',
          local_platforms_title: 'Import from Local Chinese Platforms',
          platforms_title:'Platforms We Cover', guides_title:'Everything You Need to Know About Alibaba and AliExpress',
          contact_title:'Contact Us', kpi_title:'Quick Numbers',
          eta_label:'Next Container Date',
          contact_addr:'Address: AVT, Rae\'d Khalaf Complex, Sweifieh – Amman',
          contact_hours:'Working Hours: Sun–Thu 09:00–21:00 • Fri–Sat: Closed',
          form_send:'Send', form_whatsapp:'Contact via WhatsApp',
          ph_name:'Name', ph_whatsapp:'WhatsApp number', ph_msg:'Order details',
          form_alert:'Contact us via WhatsApp or Email ✉️',
          calculator_title: 'Price Calculator',
          calc_price_label: 'Product price in USD ($):', calc_price_placeholder: 'Enter price in USD',
          calc_internal_fee_label: 'Internal shipping fee ($):', calc_internal_fee_placeholder: 'Enter shipping fee',
          calc_size_label: 'Product volume (in cubic meters):', calc_size_placeholder: 'Enter volume in cubic meters',
          calc_button: 'Calculate Price',
          calc_result_prefix: '💰 Final Price: ', calc_result_suffix: ' JOD'
        },
        zh: {
          nav_policy:'政策', nav_services:'服务', nav_platforms:'平台', nav_contact:'联系我们',
          hero_tag:'轻松搜索、比较、选择', hero_title:'您通往中国市场的门户', hero_desc:'我们提供端到端的一站式运输服务：产品采购、供应商比较、采购监督、清关和全球配送——为您的业务量身定制的解决方案。',
          cta_book:'立即预订', cta_services:'了解服务',
          about_title:'我们的政策', about_text:'我们致力于安全和透明：提供首付款的正式收据和采购凭证，并可随时跟踪您的订单。通常情况下，订单会在集装箱关闭日期起 <strong>45-60 天</strong>内到达。',
          services_title:'我们的服务',
          shipping_header: '关于我们的运输服务，您需要知道的一切',
          shipping_list: '<li>我们从**中国任何地方**运输到约旦。</li><li>我们接收中国供应商的货物，并将其整合成集装箱进行运输。</li><li>无论您的货物大小，我们都为您准备海运或空运。</li><li>我们负责约旦的所有清关手续，并将货物送到您的地址。</li><li>我们保证送货到约旦**所有省份**。</li>',
          experts_header: '产品选择专家',
          experts_list: '<li>凭借我们丰富的经验，我们帮助您在数百家供应商中**选择最好的产品**。</li><li>我们确保您的产品达到所需的质量，并确保价格符合您的预算。</li><li>我们的团队代表您进行研究和与供应商谈判。</li>',
          safety_header: '安全和透明',
          safety_list: '<li>您将收到一份正式的**付款收据**，金额为您已支付的首付款。</li><li>我们提供完整的**采购证明**，以确保完全透明。</li><li>您可以通过我们的专业团队**随时跟踪您的订单**。</li>',
          local_platforms_title: '从本地中国平台进口',
          platforms_title:'我们覆盖的平台', guides_title:'关于阿里巴巴和速卖通，您需要知道的一切',
          contact_title:'联系我们', kpi_title:'快速数据',
          eta_label:'最近集装箱日期',
          contact_addr:'地址: AVT, Rae\'d Khalaf Complex, Sweifieh – Amman',
          contact_hours:'工作时间: 周日至周四 09:00–21:00 • 周五至周六: 休息',
          form_send:'发送', form_whatsapp:'通过 WhatsApp 联系',
          ph_name:'姓名', ph_whatsapp:'WhatsApp 号码', ph_msg:'订单详情',
          form_alert:'通过 WhatsApp 或电子邮件联系我们 ✉️',
          calculator_title: '价格计算器',
          calc_price_label: '产品价格（美元）：', calc_price_placeholder: '输入美元价格',
          calc_internal_fee_label: '内部运费（美元）：', calc_internal_fee_placeholder: '输入运费',
          calc_size_label: '产品体积（立方米）：', calc_size_placeholder: '输入立方米体积',
          calc_button: '计算价格',
          calc_result_prefix: '💰 最终价格：', calc_result_suffix: ' 约旦第纳尔'
        }
      };

      const translate = (lang) => {
        document.documentElement.lang = lang;
        document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
        const t = TR[lang];
        if (!t) return;

        document.querySelectorAll('[id^="nav_"]').forEach(el => el.textContent = t[el.id]);
        document.getElementById('hero_tag').textContent = t.hero_tag;
        document.getElementById('hero_title').textContent = t.hero_title;
        document.getElementById('hero_desc').textContent = t.hero_desc;
        document.getElementById('cta_book').textContent = t.cta_book;
        document.getElementById('cta_services').textContent = t.cta_services;
        document.getElementById('about_title').textContent = t.about_title;
        document.getElementById('about_text').innerHTML = t.about_text;
        document.getElementById('services_title').textContent = t.services_title;
        document.getElementById('local_platforms_title').textContent = t.local_platforms_title;
        document.getElementById('platforms_title').textContent = t.platforms_title;
        document.getElementById('guides_title').textContent = t.guides_title;
        document.getElementById('contact_title').textContent = t.contact_title;
        document.getElementById('kpi_title').textContent = t.kpi_title;
        document.getElementById('eta_label').textContent = t.eta_label;
        document.getElementById('contact_addr').textContent = t.contact_addr;
        document.getElementById('contact_hours').textContent = t.contact_hours;
        document.getElementById('form_send').textContent = t.form_send;
        document.getElementById('form_whatsapp').textContent = t.form_whatsapp;
        document.getElementById('input_name').placeholder = t.ph_name;
        document.getElementById('input_phone').placeholder = t.ph_whatsapp;
        document.getElementById('input_msg').placeholder = t.ph_msg;
        document.getElementById('calculator_title').textContent = t.calculator_title;
        document.querySelector('label[for="price"]').textContent = t.calc_price_label;
        document.getElementById('price').placeholder = t.calc_price_placeholder;
        document.querySelector('label[for="internalFee"]').textContent = t.calc_internal_fee_label;
        document.getElementById('internalFee').placeholder = t.calc_internal_fee_placeholder;
        document.querySelector('label[for="size"]').textContent = t.calc_size_label;
        document.getElementById('size').placeholder = t.calc_size_placeholder;
        document.getElementById('calculate_button').textContent = t.calc_button;

        document.querySelectorAll('.lang-block').forEach(el => {
          el.style.display = el.dataset.lang === lang ? 'block' : 'none';
        });
      };

      const langSelect = document.getElementById('langSelect');
      langSelect.value = 'ar';
      langSelect.addEventListener('change', (e) => translate(e.target.value));
      translate(langSelect.value);

      document.getElementById('year').textContent = new Date().getFullYear();

      const themeToggle = document.getElementById('themeToggle');
      const sunIcon = document.getElementById('sun-icon');
      const moonIcon = document.getElementById('moon-icon');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const initialTheme = localStorage.getItem('theme') || (prefersDark ? 'dark' : 'light');
      document.body.dataset.theme = initialTheme;
      sunIcon.style.display = initialTheme === 'light' ? 'inline' : 'none';
      moonIcon.style.display = initialTheme === 'dark' ? 'inline' : 'none';

      themeToggle.addEventListener('click', () => {
        const currentTheme = document.body.dataset.theme;
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        document.body.dataset.theme = newTheme;
        localStorage.setItem('theme', newTheme);
        sunIcon.style.display = newTheme === 'light' ? 'inline' : 'none';
        moonIcon.style.display = newTheme === 'dark' ? 'inline' : 'none';
      });

      const tabs = document.querySelectorAll('.tab-btn');
      const panes = document.querySelectorAll('.tab-pane');

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.classList.remove('active'));
          panes.forEach(p => p.classList.remove('active'));
          tab.classList.add('active');
          const target = document.getElementById(`tab-${tab.dataset.tab}`);
          if (target) {
            target.classList.add('active');
          }
        });
      });

      const handleFormSubmit = (event) => {
        event.preventDefault();
        alert(TR[langSelect.value].form_alert);
        return false;
      };

      const calculatePrice = () => {
        const price = parseFloat(document.getElementById('price').value) || 0;
        const internalFee = parseFloat(document.getElementById('internalFee').value) || 0;
        const size = parseFloat(document.getElementById('size').value) || 0;
        const exchangeRate = 0.71;
        const shippingRate = 120;
        const total = (price + internalFee) * exchangeRate + (size * shippingRate);
        const result = document.getElementById('result');
        if (total > 0) {
          result.textContent = `${TR[langSelect.value].calc_result_prefix} ${total.toFixed(2)}${TR[langSelect.value].calc_result_suffix}`;
        } else {
          result.textContent = '';
        }
      };

      window.handleFormSubmit = handleFormSubmit;
      window.calculatePrice = calculatePrice;

      const initialTab = new URLSearchParams(window.location.hash.substring(1)).get('tab');
      if (initialTab) {
        const targetTab = document.querySelector(`.tab-btn[data-tab="${initialTab}"]`);
        if (targetTab) {
          tabs.forEach(t => t.classList.remove('active'));
          panes.forEach(p => p.classList.remove('active'));
          targetTab.classList.add('active');
          document.getElementById(`tab-${initialTab}`).classList.add('active');
        }
      }
    })();
  </script>
